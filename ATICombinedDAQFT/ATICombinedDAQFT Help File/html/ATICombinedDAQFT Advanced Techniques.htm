<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<LINK REL="stylesheet" HREF="vs70_5.css">
<LINK HREF="seealso.gif">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Advanced Techniques</TITLE>
<SCRIPT SRC="vs70link.js"></SCRIPT>
<SCRIPT SRC="vs70.js"></SCRIPT>
</HEAD>
<body topmargin="0" id="bodyID" class = "dtBODY">
<object id="obj_cook" classid="clsid:59CC0C20-679B-11D2-88BD-0800361A1803" style="display:none;"></object>

<div id="nsbanner">
<div id="bannerrow1">
<TABLE CLASS="bannerparthead" CELLSPACING=0>
<TR ID="hdr">
<TD CLASS="runninghead" nowrap>ATI&nbsp;Industrial&nbsp;Automation&nbsp;&nbsp;&nbsp;ATICombinedDAQFT&nbsp;.NET&nbsp;Class&nbsp;Library</TD>
<TD CLASS="product" nowrap>&nbsp;</TD>
</TR>
</TABLE>
</div>
</div>
<DIV id="nstext" valign="bottom">
<br>
<font size="1"><i><a href="http://www.ati-ia.com/">Visit our website.</a></i></font>
<br>
<br>

<H1 class="dtH1"><A NAME="Advanced Techniques"></A>Advanced Techniques</H1>

<P>In some applications, using the ATCombinedDAQFT component to process data is impractical. This could be due to client applications or operating systems that do not support .NET, or  very high-speed, realtime performance requirements.  In these cases, ATICombinedDAQFT can be used during configuration stages, but need not be present in the final application.</P>

<H4 class="dtH4">Setup</H4>
<ol><li>In your configuration application, add a reference to the ATICombinedDAQFT Class Library.</li>
<li>Declare a variable to represent an FTSystem object.  (This is the only creatable object in the class library).</li>
<li>Call <a href="LoadCalibrationFile.htm">LoadCalibrationFile</a> to load in the calibration information for your sensor.  Once the calibration is loaded, the calibration properties of the FTSystem object contain the information from the calibration file.</li>
<li>Set output units, tool transforms, and other options, or go with the default values.</li>
<li>Call the <a href="GetWorkingMatrix.htm">GetWorkingMatrix</a> method of the FTSystem object to retrieve a working calibration matrix.  This matrix includes tool transforms and unit changes, but not temperature compensation.</li>
<li>If your transducer system has software temperature compensation, read the <a href="GetBiasSlope.htm">BiasSlope</a>, <a href="GetGainSlope.htm">GainSlope</a> and <a href="GetThermistorValue.htm">ThermistorValue</a> values of the FTSystem object to retrieve the temperature compensation coefficients.</li>
<li>Provide your main application with the calibration matrix and temperature compensation information.</li>
</ol>

<H4 class="dtH4">Implementation</H4>
<ol>
<li>In your main application, collect 7 voltages from the F/T system (the 7th voltage, the thermistor, is only required for temperature compensation).  Check for ADC saturation, as this condition invalidates the calculations.  Convert values to volts if necessary.  Take an unloaded (bias) reading and a loaded reading.</li>
<li>If you are using temperature compensation, use the following equation to compensate both the bias and the loaded reading.<br>
<br>
[G]i' = ( [G]i + [BS]i * ( T - T' ) / ( 1 - [GS]i * ( T - T' ) )<br>
<br>
where<br>
i: index of voltage channel (typ. 0-5)<br>
[G]' : temperature-compensated voltages<br>
[G] : uncompensated voltages read from data acquisition system<br>
[BS]: bias slopes for each voltage channel provided by ATIDAQFT<br>
[GS]: gain slopes for each voltage channel provided by ATIDAQFT<br>
T: thermistor reading (the last voltage channel, typically 7th channel)<br>
T': base thermistor reading provided by ATIDAQFT<br>
</li>
<li>Perform the matrix calculation below to convert the voltage readings to F/T data.<br>
<br>
[FT] = [C] ( [Gl] - [Gb] )<br>
<br>
where<br>
[FT] (6x1) : force-torque vector (Fx, Fy, Fz, Tx, Ty, Tz)<br>
[C] (6x6) : calibration matrix provided by ATIDAQFT<br>
[Gl] (6x1) : loaded reading (with temperature compensation if applicable)<br>
[Gb] (6x1) : unloaded (bias) reading (with temperature compensation if applicable)<br>
</li>
</ol>
</P>

<P class="fineprint"></P>

<H4 class="dtH4">See Also</H4>

<P><a href="LoadCalibrationFile.htm">LoadCalibrationFile</a> | <a href="GetWorkingMatrix.htm">GetWorkingMatrix</a> | <a href="GetBiasSlope.htm">GetBiasSlope</a> | 
<a href="GetGainSlope.htm">GetGainSlope</a> | 
<a href="GetThermistorValue.htm">GetThermistorValue</a>
</P>
</div>

</BODY>
</HTML>
